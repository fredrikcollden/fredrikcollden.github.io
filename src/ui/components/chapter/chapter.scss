.chapter {
    position: relative;
    text-align: center;
    overflow: hidden;

    &--color-black {
        background-color: $color-chapter-black;
        color: $color-text;
        text-shadow: 
        -1px 0 20px $color-chapter-black,
        0 0 20px $color-chapter-black,
        1px 0 20px $color-chapter-black
        ;
    }

    &--color-red {
        background-color: $color-chapter-red;
        color: $color-text;
        text-shadow: 
            -1px 0 20px $color-chapter-red,
            0 0 20px $color-chapter-red,
            1px 0 20px $color-chapter-red
        ;
    }

    &--color-yellow {
        background-color: $color-chapter-yellow;
        color: $color-text-contrast;
        text-shadow: 
        -1px 0 20px $color-chapter-yellow,
        0 0 20px $color-chapter-yellow,
        1px 0 20px $color-chapter-yellow
        ;
    }

    &__content {
        position: relative;
        min-height: 360px;
        max-width: 400px;

        .chapter--align-left & {
            padding-right: 4rem;

            @include mq-tablet {
                padding-right: 40%;
            }
        }

        .chapter--align-right & {
            padding-left: 4rem;

            @include mq-tablet {
                padding-left: 40%;
            }
        }
    }

    &__title {
        margin-top: 0;
    }

    &__text {
        font-size: 0.9em;
        line-height: 1.5;
    }

    &__bg-wrapper {
        display: flex;
        justify-content: center;
        position: absolute;
        top: 0;
        left: 0;
        width: 100%;
        height: 100%;

        .chapter--align-left & {
            //justify-content: flex-end;
            left: 120px;

            @include mq-tablet {
                left: 20%;
            }
        }

        .chapter--align-right & {
            //justify-content: flex-start;
            left: -120px;

            @include mq-tablet {
                left: -20%;
            }
        }

        .chapter--align-center & {
            justify-content: center;
            left: 0%;
        }
    }

    &__bg {
        display: block;
        position: relative;
        top: 0;
        left: 0;
        height: 100%;
        width: 100%;
        overflow: hidden;
        max-width: 500px;

        .chapter--color-black & {
            background-color: $color-chapter-black-fade;
        }

        .chapter--color-yellow & {
            background-color: $color-chapter-yellow-fade;
        }

        .chapter--color-red & {
            background-color: $color-chapter-red-fade;
        }

    }

    &__bg-img {
        display: block;
        position: absolute;
        height: 100%;
        width: 100%;
        object-fit: cover;
    }

    &__bg-decoration-wrapper {
        width: 100%;
        height: 100%;
        position: absolute;
        top: 0;
        left: 0;

        &--color-black {
            color: $color-chapter-black !important;
        }
    
        &--color-red {
            color: $color-chapter-red !important;
        }
    
        &--color-yellow {
            color: $color-chapter-yellow !important;
        }
    }
}